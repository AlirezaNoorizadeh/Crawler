<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Tags on a Web Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
    
        input[type="text"] {
            padding: 12px 20px;
            margin: 8px 3px;
            box-sizing: border-box;
            border: 3px solid #ccc;
            border-radius: 15px;
        }
    
        #main {
            background-color: #525252;
            margin-top: 15px;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 15px;
        }
    
        button {
            transition: background-color 1s;
            border: 4px solid #45a049;
            background-color: #456446;
            color: white;
            padding: 14px 20px;
            margin: 8px 3px;
            border-radius: 15px;
            cursor: pointer;
            font-size: large;
        }
    
        button:hover {
            background-color: #45a049;
        }

        button.ADD {
            border-radius: 8px;
            border: 4px solid #45a049;
            padding: 12px 25px;
            font-size: larger;
        }
    
        button.remove {
            border: 4px solid rgb(219, 0, 0);
            background-color: #bb6b6b;
        }
    
        button.remove:hover {
            background-color: rgb(221, 0, 0);
        }
    
        code {
            display: block;
            white-space: pre-wrap;
            background-color: #f4f4f4;
            padding: 5px;
            margin-bottom: 10px;
            border-radius: 15px;
        }
    
        .contents {
            background-color: rgb(167, 167, 167);
            padding: 15px;
            border-radius: 8px;
            max-height: 300px; 
            overflow: auto;
        }
    
        ::-webkit-scrollbar {
            width: 12px;
        }
    
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 8px;
        }
    
        ::-webkit-scrollbar-thumb {
            background: #45a049;
            border-radius: 8px;
        }
    
        ::-webkit-scrollbar-thumb:hover {
            background: #007906;
        }
    
        h1 {
            background: #45bd55;
            border-radius: 8px;
            padding: 12px;
        }

        input:focus {
            outline: none;
            background-color: white;
        }



    </style>
    <script>
        const listOfTags = ["html","html","head","/head","body","a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo"
                        ,"bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","command","content","data","datalist"
                        ,"dd","del","details","dfn","dialog","dir","div","dl","dt","em","embed","fieldset","figcaption","figure","font","footer","form","frame","frameset","h1"
                        ,"h2","h3","h4","h5","h6","header","hr","html","i","iframe","img","input","ins","isindex","kbd","keygen","label","legend","li","link","listing","main"
                        ,"map","mark","marquee","menu","meta","meter","nav","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param"
                        ,"picture","plaintext","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","shadow","small","source","span","strike","strong"
                        ,"style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","tt","u","ul","var","video","wbr","xmp"
                        ];
                        
        let divCount = 0;

        function addDiv() {
            divCount++;
            let newMainDiv = document.createElement("div");
            newMainDiv.id = "main";
            let newDiv = document.createElement("div");
            newDiv.innerHTML = '<input type="text" id="urlInput' + divCount + '" placeholder="Enter website URL" oninput="checkURL(' + divCount + ')">' +
                        '<input type="text" id="tagInput' + divCount + '" placeholder="Enter tag to search" oninput="checkTag(' + divCount + ')">' +
                        '<button onclick="loadDoc(' + divCount + ')">Load</button>' +
                        '<button class="remove" onclick="removeDiv(event)">Remove</button>' +
                        '<div class="contents" id="Content' + divCount + '"></div>';
            newMainDiv.appendChild(newDiv);
            document.body.appendChild(newMainDiv);
        }

        function removeDiv(event) {
            let divToRemove = event.target.parentElement.parentElement;
            divToRemove.remove();
        }

        function checkURL(divNum) {
            const url = document.getElementById('urlInput' + divNum).value;
            if (isValidURL(url)) {

                document.getElementById('urlInput' + divNum).style.borderColor = '#3bd343';
            } else {
                document.getElementById('urlInput' + divNum).style.borderColor = 'red';
            }
        }

        function checkTag(divNum) {
            const tag = document.getElementById('tagInput' + divNum).value.toLowerCase();
            if (listOfTags.includes(tag)) {
                document.getElementById('tagInput' + divNum).style.borderColor = '#3bd343';
            } else {
                document.getElementById('tagInput' + divNum).style.borderColor = 'red';
            }
        }

        function isValidURL(url) {
            if (!/^https?:\/\//i.test(url)) {
                return false;
            }

            const domain = url.match(/^https?:\/\/(?:www\.)?([^/]+)/i)[1];
            const subdomains = domain.split('.');
            if (subdomains.length > 2) {
                return false;
            }

            return true;
        }

        function loadDoc(divNum) {
            const url = document.getElementById('urlInput' + divNum).value;
            const tagToSearch = document.getElementById('tagInput' + divNum).value;

            if (!isValidURL(url)) {
                alert("Please enter a valid URL.");
                return;
            }

            const listContainer = document.getElementById('Content' + divNum);
            listContainer.innerHTML = "";
            
            const xhttp = new XMLHttpRequest();
            xhttp.onload = function() {
                if (this.status === 200) {
                    let content = document.createElement("div");
                    content.innerHTML = this.responseText;

                    let tags = content.querySelectorAll(tagToSearch);

                    if (tags.length === 0) {
                        alert("No matching tags found.");
                        return;
                    }

                    tags.forEach(tag => {
                        let codeElement = document.createElement("code");
                        codeElement.innerText = tag.outerHTML;
                        let tagDiv = document.createElement("div");
                        tagDiv.appendChild(codeElement);
                        listContainer.appendChild(tagDiv);
                    });
                } else {
                    alert("Error loading the website.");
                }
            };
            xhttp.onerror = function() {
                alert("An error occurred while loading the website.");
            };
            xhttp.open("GET", url, true);
            xhttp.send();
        }

    </script>
</head>

<body>
    <button class="ADD" style="display: inline;" onclick="addDiv()">Add</button>
    <h1 style="display: inline;">Find Tags on a Web Page</h1>
</body>

</html>